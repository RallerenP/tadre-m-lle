<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Opret Album</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">
</head>
<body>

<div>
    <div class="w-full text-center text-4xl flex-col flex justify-center items-center">
        <p>Album navn</p>
        <br>
        <input type="text" class="border" maxlength="25" id="albumInput" placeholder="IndsÃ¦t album navn her">
        <div class="hidden text-red-500" id="error">Dette album navn findes allerede!</div>
    </div>
    <div class="w-full text-center text-4xl flex justify-center items-center">
        <a class="m-4" id="cancelButton" href="galleri.html">Annuller</a>
        <button class="m-4" id="submitButton">Opret</button>
    </div>
</div>


<script>

    $('#submitButton').on("click", function () {

        $.ajax({
            url: '/api/albums/',
            contentType: "application/json",
            method: 'POST',
            data: JSON.stringify({ albumName: $('#albumInput').val() }),
            success: (data) => {
                console.log(data)
                window.location.href = "/galleri.html"
            },
            error: (xhr, status) => {
                $('#error').removeClass("hidden")
                console.log("DUPLICATED DATA")
            }
        })



    })

</script>

</body>
</html>